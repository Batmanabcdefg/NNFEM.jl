<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Problem and Methodology · NNFEM</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">NNFEM</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Getting Started</a></li><li><a class="tocitem" href="../api/">API Reference</a></li><li class="is-active"><a class="tocitem" href>Problem and Methodology</a><ul class="internal"><li><a class="tocitem" href="#Hyper-elasticity-1"><span>Hyper-elasticity</span></a></li><li><a class="tocitem" href="#Plasticity-1"><span>Plasticity</span></a></li><li><a class="tocitem" href="#Multiscale-1"><span>Multiscale</span></a></li></ul></li><li><a class="tocitem" href="../plasticity/">Plasticity</a></li><li><a class="tocitem" href="../instructions/">Instructions for Running Benchmarks</a></li><li><a class="tocitem" href="../api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Problem and Methodology</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Problem and Methodology</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/kailaix/NNFEM.jl/blob/master/docs/src/method.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Problem-and-Methodology-1"><a class="docs-heading-anchor" href="#Problem-and-Methodology-1">Problem and Methodology</a><a class="docs-heading-anchor-permalink" href="#Problem-and-Methodology-1" title="Permalink"></a></h1><h2 id="Hyper-elasticity-1"><a class="docs-heading-anchor" href="#Hyper-elasticity-1">Hyper-elasticity</a><a class="docs-heading-anchor-permalink" href="#Hyper-elasticity-1" title="Permalink"></a></h2><p>In the hyperelasticity case, the constitutive relation is given by the general form </p><div>\[\sigma = f(\varepsilon) .\]</div><p>In our approach, this relation is modeled by </p><div>\[\sigma = H_{\theta}(\varepsilon) (\varepsilon-\varepsilon_0) + \sigma_0, \tag{1}\]</div><p>where <span>$\varepsilon_0$</span> and <span>$\sigma_0$</span> are strain and stress at the last time step and <span>$H_\theta$</span>  is a neural network with weights and biases <span>$\theta$</span>. <span>$H_{\theta}(\varepsilon)$</span> is constrained to a SPD matrix, which can be achieved by using a custom layer for the output of the neural network </p><div>\[H_{\theta}(\varepsilon) = LL&#39;,\quad L = \begin{bmatrix}
o_1(\varepsilon;\theta) &amp; 0 &amp; 0\\
o_2(\varepsilon;\theta) &amp; o_3(\varepsilon;\theta) &amp; 0\\
o_4(\varepsilon;\theta) &amp; o_5(\varepsilon;\theta) &amp; o_6(\varepsilon;\theta)
\end{bmatrix}.\]</div><p>Here <span>$o_i$</span> are the outputs of a fully connected neural network; in other words, the first part of the neural network takes <span>$\varepsilon$</span> as input and outputs a 6D vector <span>$\{o_i\}$</span>. </p><p><img src="../assets/nn.png" alt/></p><p>We choose the form (1) based on the observation that if <span>$\varepsilon=\varepsilon_0$</span> then we must have <span>$\sigma=\sigma_0$</span>. Additionally, <span>$H_{\theta}(\varepsilon)$</span> is the tangent matrix of the constitutive relation and that&#39;s why we assume SPD for <span>$H_\theta$</span>. </p><h2 id="Plasticity-1"><a class="docs-heading-anchor" href="#Plasticity-1">Plasticity</a><a class="docs-heading-anchor-permalink" href="#Plasticity-1" title="Permalink"></a></h2><p>In the plasticity case, the constitutive relation is more complicated. In general, the strain is decomposed into the elastic strain and plastic strain</p><div>\[\varepsilon = \varepsilon^e + \varepsilon^{p}\]</div><p>The constitutive relations for both strains are described by (<span>$\alpha$</span> is called the  <strong>internal variable</strong>.)</p><table><tr><th style="text-align: right">Strain Component</th><th style="text-align: right">Constitutive Relation</th></tr><tr><td style="text-align: right"><span>$\varepsilon^e$</span></td><td style="text-align: right"><span>$\sigma = E\varepsilon^e$</span></td></tr><tr><td style="text-align: right"><span>$\varepsilon^p$</span></td><td style="text-align: right"><span>$\begin{aligned}\dot \varepsilon^e &amp;= \dot\lambda \frac{\partial f(\sigma, \alpha)}{\partial \sigma} \\\lambda f(\sigma,\alpha) &amp;= 0 \quad f(\sigma,\alpha)\leq 0 \quad \lambda \geq 0 \\\dot\alpha &amp; =  h(\sigma, \alpha)\end{aligned}$</span></td></tr></table><p>In contract to hyperelasticity, the plasticity constitutive relation is history dependent, i.e., the current tangent matrix does not only depdent on <span>$\varepsilon$</span> but also <span>$\varepsilon_0$</span>, <span>$\sigma_0$</span> and <span>$\sigma_0$</span> (The subscription &quot;0&quot; denotes values at last time step). Additionally, in plasticity, when the strain (or stress) is very small, the material undergoes elasticity; therefore, we expect a certain &quot;elasticity regime&quot;. This motivates us to model the plasticity relation by </p><div>\[\sigma = \Big(\eta(\sigma_0)H_0  + (1-\eta(\sigma_0))H_{\theta}(\varepsilon, \varepsilon_0, \sigma_0, \alpha_0)\Big)  (\varepsilon-\varepsilon_0) + \sigma_0,\]</div><p>where <span>$\eta(\sigma_0)$</span> is close to 1 when <span>$\sigma_0$</span> is small and thus the tangent matrix is approximately <span>$H_0$</span> (a constant matrix independent of the strain and the stress). In practice, we found that ignoring the internal variable does not affect our results too much and therefore the model we use is </p><div>\[\sigma = \Big(\eta(\sigma_0)H_0  + (1-\eta(\sigma_0))H_{\theta}(\varepsilon, \varepsilon_0, \sigma_0)\Big)  (\varepsilon-\varepsilon_0) + \sigma_0, \tag{2}\]</div><h2 id="Multiscale-1"><a class="docs-heading-anchor" href="#Multiscale-1">Multiscale</a><a class="docs-heading-anchor-permalink" href="#Multiscale-1" title="Permalink"></a></h2><p>The constitutive relation model (2) is also used for the multiscale case, where the material is a mixture of plasticity materials and elasticity materials. </p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"></div></div><p>​	If the problem can be reduced to 1D, we can construct a neural network that takes a 3D vector <span>$(\varepsilon, \varepsilon_0, \sigma_0)$</span> as inputs and outputs a stress scalar <span>$\sigma$</span>. Here <span>$\varepsilon_0$</span> and <span>$\sigma_0$</span> are strains  and stresses at last time step. We do not have use the special neural network structure as that in the high dimensional case because the 1D constitutive relation is much simpler. </p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../api/">« API Reference</a><a class="docs-footer-nextpage" href="../plasticity/">Plasticity »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 13 February 2020 18:56">Thursday 13 February 2020</span>. Using Julia version 1.2.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
