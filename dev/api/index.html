<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · NNFEM</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="NNFEM logo"/></a><div class="docs-package-name"><span class="docs-autofit">NNFEM</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Getting Started</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../ex_simulation/">Simulaton Code Structure</a></li></ul></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#Elements-1"><span>Elements</span></a></li><li><a class="tocitem" href="#Materials-1"><span>Materials</span></a></li><li><a class="tocitem" href="#Assembly-1"><span>Assembly</span></a></li><li><a class="tocitem" href="#Solvers-1"><span>Solvers</span></a></li><li><a class="tocitem" href="#Utilities-1"><span>Utilities</span></a></li><li><a class="tocitem" href="#Internals-1"><span>Internals</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/kailaix/NNFEM.jl/blob/master/docs/src/api.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference-1"><a class="docs-heading-anchor" href="#API-Reference-1">API Reference</a><a class="docs-heading-anchor-permalink" href="#API-Reference-1" title="Permalink"></a></h1><h2 id="Elements-1"><a class="docs-heading-anchor" href="#Elements-1">Elements</a><a class="docs-heading-anchor-permalink" href="#Elements-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NNFEM.FiniteStrainContinuum" href="#NNFEM.FiniteStrainContinuum"><code>NNFEM.FiniteStrainContinuum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">FiniteStrainContinuum(coords::Array{Float64}, elnodes::Array{Int64}, props::Dict{String, Any}, ngp::Int64=2)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/elements/FiniteStrainContinuum.jl#L55-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.FiniteStrainContinuum" href="#NNFEM.FiniteStrainContinuum"><code>NNFEM.FiniteStrainContinuum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">FiniteStrainContinuum</code></pre><p>Constructs a finite strain element. </p><ul><li><code>eledim</code>: spatial dimension of the element (default = 2).</li><li><code>mat</code>: constitutive law, a length <code>#elem</code> vector of materials such as <a href="#NNFEM.PlaneStress"><code>PlaneStress</code></a></li><li><code>elnodes</code>: the node indices in this finite element, an integer array </li><li><code>props</code>: property dictionary </li><li><code>coords</code>: coordinates of the vertices of the element</li><li><code>dhdx</code>, <code>weights</code>, <code>hs</code>: data for integral </li><li><code>stress</code>: stress at each quadrature points</li></ul><p><strong>Example</strong></p><pre><code class="language-julia">#   Local degrees of freedom 
#   4 ---- 3
#
#   1 ---- 2

nx = 10
ny = 5
h = 0.1
element = FiniteStrainContinuum[]
prop = Dict(&quot;name&quot;=&gt; &quot;PlaneStrain&quot;, &quot;rho&quot;=&gt; 0.0876584, &quot;E&quot;=&gt;0.07180760098, &quot;nu&quot;=&gt;0.4)
for j = 1:ny
    for i = 1:nx 
        n = (nx+1)*(j-1) + (i-1)+1
        elnodes = [n, n + 1, n + 1 + (nx + 1), n + (nx + 1)]
        ngp = 3 # 3 x 3 Gauss points per element 
        coords = [(i-1)*h (j-1)*h
                    i*h (j-1)*h
                    i*h j*h
                    (i-1)*h j*h]
        push!(element, FiniteStrainContinuum(coords,elnodes, prop, ngp))
    end
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/elements/FiniteStrainContinuum.jl#L4-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.SmallStrainContinuum" href="#NNFEM.SmallStrainContinuum"><code>NNFEM.SmallStrainContinuum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SmallStrainContinuum(coords::Array{Float64}, elnodes::Array{Int64}, props::Dict{String, Any}, ngp::Int64=2)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/elements/SmallStrainContinuum.jl#L58-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.SmallStrainContinuum" href="#NNFEM.SmallStrainContinuum"><code>NNFEM.SmallStrainContinuum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SmallStrainContinuum</code></pre><p>Constructs a small strain element. </p><ul><li><code>eledim</code>: spatial dimension of the element (default = 2).</li><li><code>mat</code>: constitutive law, a length <code>#elem</code> vector of materials such as <a href="#NNFEM.PlaneStress"><code>PlaneStress</code></a></li><li><code>elnodes</code>: the node indices in this finite element, an integer array </li><li><code>props</code>: property dictionary </li><li><code>coords</code>: coordinates of the vertices of the element</li><li><code>dhdx</code>: list of <code>ngp</code> shape functions for first order derivatives <span>$\nabla \phi(x)$</span> (<code>ndof×2</code>) on the Gaussian points</li><li><code>weights</code>: weight vector of length <code>n_gauss_points</code>, for numerical quadrature</li><li><code>hs</code>: list of <code>ngp</code> shape functions for function values <span>$\phi(x)$</span> (length <code>ndof</code> vectors) on the Gaussian points</li><li><code>stress</code>: stress at each quadrature points; this field is reserved for visualization. </li></ul><p><strong>Example</strong></p><pre><code class="language-julia">#   Local degrees of freedom 
#   4 ---- 3
#
#   1 ---- 2

nx = 10
ny = 5
h = 0.1
element = SmallStrainContinuum[]
prop = Dict(&quot;name&quot;=&gt; &quot;PlaneStrain&quot;, &quot;rho&quot;=&gt; 0.0876584, &quot;E&quot;=&gt;0.07180760098, &quot;nu&quot;=&gt;0.4)
for j = 1:ny
    for i = 1:nx 
        n = (nx+1)*(j-1) + (i-1)+1
        elnodes = [n, n + 1, n + 1 + (nx + 1), n + (nx + 1)]
        ngp = 3 # 3 x 3 Gauss points per element 
        coords = [(i-1)*h (j-1)*h
                    i*h (j-1)*h
                    i*h j*h
                    (i-1)*h j*h]
        push!(element, SmallStrainContinuum(coords,elnodes, prop, ngp))
    end
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/elements/SmallStrainContinuum.jl#L4-L45">source</a></section></article><h2 id="Materials-1"><a class="docs-heading-anchor" href="#Materials-1">Materials</a><a class="docs-heading-anchor-permalink" href="#Materials-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NNFEM.PlaneStress" href="#NNFEM.PlaneStress"><code>NNFEM.PlaneStress</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">PlaneStress</code></pre><p>Creates a plane stress element</p><ul><li><code>H</code>: Linear elasticity matrix, <span>$3\times3$</span></li><li><code>E</code>: Young&#39;s modulus</li><li><code>ν</code>: Poisson&#39;s ratio </li><li><code>ρ</code>: density </li><li><code>σ0</code>: stress at the <strong>last</strong> time step </li><li><code>σ0_</code>: (for internal use), stress to be updated in <code>commitHistory</code></li><li><code>ε0</code>: strain at the <strong>last</strong> time step </li><li><code>ε0_</code>: (for internal use), strain to be updated in <code>commitHistory</code></li></ul><p><strong>Example</strong></p><pre><code class="language-julia">prop = Dict(&quot;name&quot;=&gt; &quot;PlaneStress&quot;, &quot;rho&quot;=&gt; 0.0876584, &quot;E&quot;=&gt;0.07180760098, &quot;nu&quot;=&gt;0.4)
mat = PlaneStress(prop)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/materials/PlaneStress.jl#L3-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.PlaneStress-Tuple{Dict{String,Any}}" href="#NNFEM.PlaneStress-Tuple{Dict{String,Any}}"><code>NNFEM.PlaneStress</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">PlaneStress(prop::Dict{String, Any})</code></pre><p><code>prop</code> should contain at least the following three fields: <code>E</code>, <code>nu</code>, <code>rho</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/materials/PlaneStress.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.PlaneStrain" href="#NNFEM.PlaneStrain"><code>NNFEM.PlaneStrain</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">PlaneStrain</code></pre><p>Creates a plane strain element</p><ul><li><code>H</code>: Linear elasticity matrix, <span>$3\times3$</span></li><li><code>E</code>: Young&#39;s modulus</li><li><code>ν</code>: Poisson&#39;s ratio </li><li><code>ρ</code>: density </li><li><code>σ0</code>: stress at the <strong>last</strong> time step </li><li><code>σ0_</code>: (for internal use), stress to be updated in <code>commitHistory</code></li><li><code>ε0</code>: strain at the <strong>last</strong> time step </li><li><code>ε0_</code>: (for internal use), strain to be updated in <code>commitHistory</code></li></ul><p><strong>Example</strong></p><pre><code class="language-julia">prop = Dict(&quot;name&quot;=&gt; &quot;PlaneStrain&quot;, &quot;rho&quot;=&gt; 0.0876584, &quot;E&quot;=&gt;0.07180760098, &quot;nu&quot;=&gt;0.4)
mat = PlaneStrain(prop)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/materials/PlaneStrain.jl#L3-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.PlaneStrain-Tuple{Dict{String,Any}}" href="#NNFEM.PlaneStrain-Tuple{Dict{String,Any}}"><code>NNFEM.PlaneStrain</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">PlaneStrain(prop::Dict{String, Any})</code></pre><p><code>prop</code> should contain at least the following three fields: <code>E</code>, <code>nu</code>, <code>rho</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/materials/PlaneStrain.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.PlaneStressIncompressibleRivlinSaunders" href="#NNFEM.PlaneStressIncompressibleRivlinSaunders"><code>NNFEM.PlaneStressIncompressibleRivlinSaunders</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Pascon, João Paulo.  &quot;Large deformation analysis of plane-stress hyperelastic problems via triangular membrane finite elements.&quot;  International Journal of Advanced Structural Engineering (2019): 1-20.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/materials/PlaneStressIncompressibleRivlinSaunders.jl#L3-L7">source</a></section></article><h2 id="Assembly-1"><a class="docs-heading-anchor" href="#Assembly-1">Assembly</a><a class="docs-heading-anchor-permalink" href="#Assembly-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NNFEM.Domain" href="#NNFEM.Domain"><code>NNFEM.Domain</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Domain</code></pre><p>Date structure for the computatational domain.</p><ul><li><code>nnodes</code>: Int64, number of nodes (each quadratical quad element has 9 nodes)</li><li><code>nodes</code>: Float64[nnodes, ndims], coordinate array of all nodes</li><li><code>neles</code>: number of elements </li><li><code>elements</code>: a list of <code>neles</code> element arrays, each element is a struct </li><li><code>ndims</code>: Int64, dimension of the problem space </li><li><code>state</code>: a matrix of size <code>nnodes×ndims</code>. <strong>Current</strong> displacement of all nodal freedoms, <code>state[1:nnodes]</code> are for the first direction.</li><li><code>Dstate</code>: <code>nnodes×ndims</code>. <strong>Previous</strong> displacement of all nodal freedoms, <code>Dstate[1:nnodes]</code> are for the first direction.</li><li><code>LM</code>:  <code>Int64[neles][ndims]</code>, LM(e,d) is the global equation number (active freedom number) of element e&#39;s d th freedom,         -1 means fixed (time-independent) Dirichlet        -2 means time-dependent Dirichlet</li><li><code>DOF</code>: a matrix of size <code>neles×ndims</code>, DOF(e,d) is the global freedom number of element e&#39;s d th freedom</li><li><code>ID</code>:  a matrix of size <code>nnodes×ndims</code>. <code>ID(n,d)</code> is the equation number (active freedom number) of node n&#39;s <span>$d$</span>-th freedom,         -1 means fixed (time-independent) Dirichlet        -2 means time-dependent Dirichlet</li><li><code>neqs</code>:  Int64,  number of equations, a.k.a., active freedoms</li><li><code>eq_to_dof</code>:  an integer vector of length <code>neqs</code>, map from to equation number (active freedom number) to the freedom number (Int64[1:nnodes] are for the first direction) </li><li><code>dof_to_eq</code>:  a bolean array of size <code>nnodes×ndims</code>, map from freedom number(Int64[1:nnodes] are for the first direction) to booleans (active freedoms(equation number) are true)</li><li><code>EBC</code>:  Int64[nnodes, ndims], EBC[n,d] is the displacement boundary condition of node n&#39;s dth freedom,          -1 means fixed(time-independent) Dirichlet boundary nodes          -2 means time-dependent Dirichlet boundary nodes</li><li><code>g</code>:  Float64[nnodes, ndims], values for fixed(time-independent) Dirichlet boundary conditions of node n&#39;s dth freedom,</li><li><code>FBC</code>: Int64[nnodes, ndims], FBC[n,d] is the force load boundary condition of node n&#39;s dth freedom,          -1 means constant(time-independent) force load boundary nodes          -2 means time-dependent force load boundary nodes</li><li><code>fext</code>:  Float64[neqs], constant (time-independent) force load boundary conditions for these freedoms</li><li><code>time</code>: Float64, current time</li><li><code>npoints</code>: Int64, number of points (each quadratical quad element has 4 points, npoints==nnodes, when porder==1)</li><li><code>node_to_point</code>: Int64[nnodes]:map from node number to point point, -1 means the node is not a geometry point</li></ul><p><strong>Auxilliry Data Structures</strong></p><ul><li><p><code>ii_stiff</code>: Int64[], first index of the sparse matrix representation of the stiffness matrix</p></li><li><p><code>jj_stiff</code>: Int64[], second index of the sparse matrix representation of the stiffness matrix</p></li><li><p><code>vv_stiff_ele_indptr</code>: Int64[], Int64[e] is the first index entry for the e&#39;s element of the sparse matrix representation of the stiffness matrix</p></li><li><p><code>vv_stiff</code>: Float64[], values of the sparse matrix representation of the stiffness matrix</p></li><li><p><code>ii_dfint_dstress</code>: Int64[], first index of the sparse matrix representation of the dfint_dstress matrix </p></li><li><p><code>jj_dfint_dstress</code>: Int64[], second index of the sparse matrix representation of the dfint_dstress matrix</p></li><li><p><code>vv_dfint_dstress_ele_indptr</code>: Int64[], Int64[e] is the first index entry for the e&#39;s element of the sparse matrix representation of the dfint_dstress matrix</p></li><li><p><code>vv_dfint_dstress</code>: Float64[], values of the sparse matrix representation of the dfint_dstress matrix </p></li><li><p><code>ii_dstrain_dstate</code>: Int64[], first index of the sparse matrix representation of the dstrain_dstate matrix</p></li><li><p><code>jj_dstrain_dstate</code>: Int64[], second index of the sparse matrix representation of the dstrain_dstate matrix</p></li><li><p><code>vv_dstrain_dstate_ele_indptr</code>: Int64[], Int64[e] is the first index entry for the e&#39;s element of the sparse matrix representation of the stiffness matrix</p></li><li><p><code>vv_dstrain_dstate</code>: Float64[], values of the sparse matrix representation of the dstrain_dstate matrix</p></li><li><p><code>history</code>: Dict{String, Array{Array{Float64}}}, dictionary between string and its time-histories quantity Float64[ntime][]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/fem/fem.jl#L62-L114">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.GlobalData" href="#NNFEM.GlobalData"><code>NNFEM.GlobalData</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">GlobalData</code></pre><p>Store data for finite element updates. Assume the problem has n freedoms,</p><ul><li><code>state</code>: a vector of length <span>$n$</span>. Displacement array at the <strong>current</strong> time, only for <strong>active</strong> freedoms.  The ordering is based on the equation number.</li><li><code>Dstate</code>: a vector of length <span>$n$</span>. Displacement array at the <strong>previous</strong> time.</li><li><code>velo</code>: a vector of length <span>$n$</span>. Velocity array at the <strong>current</strong> time.</li><li><code>acce</code>: a vector of length <span>$n$</span>. Acceleration array at the <strong>current</strong> time.</li><li><code>time</code>: float, current time.</li><li><code>M</code>: a matrix of size <span>$n\times n$</span> spares mass matrix</li><li><code>Mlumped</code>: a vector of length <span>$n$</span> lumped mass array</li><li><code>MID</code>: Float64[n, nd1] off-diagonal part of the mass matrix, between the active freedoms and the time-dependent Dirichlet freedoms, assume there are nd time-dependent Dirichlet freedoms</li><li><code>EBC_func</code>: displacement <span>$d$</span>, velocity <span>$v$</span>, and acceleration <span>$a$</span> from time-dependent Dirichlet boundary conditions </li></ul><div>\[d, v, a = \text{EBC\_func}(time)\]</div><p>The length of each output is the same as number of &quot;-2&quot; in <code>EBC</code> array. The ordering is direction major, i.e., <span>$u_1, u_3, \ldots, v_1, v_3, \ldots$</span> </p><ul><li><code>FBC_func</code>: time-dependent load boundary condition. </li></ul><div>\[f = \text{FBC\_func}(time)\]</div><p>Here <span>$f$</span> is a vector. Its length is the same as number of &quot;-2&quot; in <code>FBC</code> array. The ordering is direction major, i.e., <span>$u_1, u_3, \ldots, v_1, v_3, \ldots$</span> </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/fem/fem.jl#L6-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.commitHistory" href="#NNFEM.commitHistory"><code>NNFEM.commitHistory</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">commitHistory(domain::Domain)</code></pre><p>Update current step strain and stress in the history map of the <code>domain</code>.  This is essential for visualization and time dependent constitutive relations. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/fem/fem.jl#L245-L250">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.setDirichletBoundary!" href="#NNFEM.setDirichletBoundary!"><code>NNFEM.setDirichletBoundary!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">setDirichletBoundary!(self::Domain, EBC::Array{Int64}, g::Array{Float64})</code></pre><p>Bookkeepings for Dirichlet boundary conditions. Only called once in the constructor of <code>domain</code>.  It updates the fixed (time-independent Dirichlet boundary) state entries and builds both LM and DOF arrays.</p><ul><li><p><code>self</code>: Domain</p></li><li><p><code>EBC</code>:  Int64[nnodes, ndims], EBC[n,d] is the displacement boundary condition of node n&#39;s dth freedom,</p><p>∘ -1 means fixed(time-independent) Dirichlet boundary nodes</p><p>∘ -2 means time-dependent Dirichlet boundary nodes</p></li><li><p><code>g</code>:  Float64[nnodes, ndims], values for fixed (time-independent) Dirichlet boundary conditions of node n&#39;s dth freedom,</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/fem/fem.jl#L290-L304">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.setNeumannBoundary!" href="#NNFEM.setNeumannBoundary!"><code>NNFEM.setNeumannBoundary!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Bookkeepings for Dirichlet boundary conditions. Only called once in the constructor of <code>domain</code>.  It updates the fixed (time-independent Neumann boundary) state entries and builds both LM and DOF arrays.</p><ul><li><p><code>self</code>: Domain</p></li><li><p><code>FBC</code>:  Int64[nnodes, ndims], FBC[n,d] is the displacement boundary condition of node n&#39;s dth freedom,</p><p>∘ -1 means fixed (time-independent) Neumann boundary nodes</p><p>∘ -2 means time-dependent Dirichlet boundary nodes</p></li><li><p><code>f</code>:  Float64[nnodes, ndims], values for fixed (time-independent) Neumann boundary conditions of node n&#39;s dth freedom,</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/fem/fem.jl#L357-L370">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.updateStates!" href="#NNFEM.updateStates!"><code>NNFEM.updateStates!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">updateStates!(self::Domain, globaldat::GlobalData)</code></pre><p>At each time step, <code>updateStates!</code> needs to be called to update the full <code>state</code> and <code>Dstate</code> in <code>domain</code> from active ones in <code>globaldat</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/fem/fem.jl#L391-L396">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.updateDomainStateBoundary!" href="#NNFEM.updateDomainStateBoundary!"><code>NNFEM.updateDomainStateBoundary!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">updateDomainStateBoundary!(self::Domain, globaldat::GlobalData)</code></pre><p>If there exists time-dependent boundary conditions, <code>updateDomainStateBoundary!</code> must be called to update  the boundaries in <code>domain</code>. This function is called by <a href="#NNFEM.updateStates!"><code>updateStates!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/fem/fem.jl#L411-L416">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.getExternalForce!" href="#NNFEM.getExternalForce!"><code>NNFEM.getExternalForce!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">getExternalForce!(self::Domain, globaldat::GlobalData, fext::Union{Missing,Array{Float64}}=missing)</code></pre><p>Computes external force vector, including external force load and time-dependent Dirichlet boundary conditions.</p><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>The function needs to be called after <a href="#NNFEM.updateDomainStateBoundary!"><code>updateDomainStateBoundary!</code></a>, which computes the external force vector from external force load</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/fem/fem.jl#L452-L459">source</a></section></article><h2 id="Solvers-1"><a class="docs-heading-anchor" href="#Solvers-1">Solvers</a><a class="docs-heading-anchor-permalink" href="#Solvers-1" title="Permalink"></a></h2><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>ExplicitSolver</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="NNFEM.SolverInitial!" href="#NNFEM.SolverInitial!"><code>NNFEM.SolverInitial!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">SolverInitial!(Δt::Int64, globdat::GlobalData, domain::Domain)</code></pre><p>You need to call SolverInitial! before the first time step, if <span>$f^{ext}_0 \neq 0$</span></p><div>\[a_0 = M^{-1}(- f^{int}(u_0) + f^{ext}_0)\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/solvers/Solvers.jl#L59-L67">source</a></section></article><h2 id="Utilities-1"><a class="docs-heading-anchor" href="#Utilities-1">Utilities</a><a class="docs-heading-anchor-permalink" href="#Utilities-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NNFEM.readMesh-Tuple{String}" href="#NNFEM.readMesh-Tuple{String}"><code>NNFEM.readMesh</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">readMesh(gmshFile::String)</code></pre><p>Reads a <code>gmsh</code> file and extracts element, coordinates and boundaries.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/utils/io.jl#L4-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.orthotropic_H-Tuple{PyCall.PyObject}" href="#NNFEM.orthotropic_H-Tuple{PyCall.PyObject}"><code>NNFEM.orthotropic_H</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">orthotropic_H(y::PyObject)
orthotropic_H(o::Array)</code></pre><p>Creates a symmetric matrix from 4 parameters</p><div>\[H = \begin{bmatrix}
y_1 &amp; y_2 &amp; 0\\ 
y_2 &amp; y_3 &amp; 0 \\ 
0 &amp; 0 &amp; y_4
\end{bmatrix}\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/utils/matrix.jl#L29-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.spd_Chol_Orth-Tuple{Array}" href="#NNFEM.spd_Chol_Orth-Tuple{Array}"><code>NNFEM.spd_Chol_Orth</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">spd_Chol_Orth(o::Array)
spd_Chol_Orth(o::PyObject)</code></pre><p>Creates a SPD matrix from 4 scalars. </p><div>\[A = LL&#39;\]</div><p>where</p><div>\[L = \begin{bmatrix}
o_1 &amp; &amp; \\
o_2 &amp; o_3 &amp; \\
 &amp;  &amp; o_4 
\end{bmatrix}\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/utils/matrix.jl#L122-L139">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.spd_Cholesky-Tuple{Array}" href="#NNFEM.spd_Cholesky-Tuple{Array}"><code>NNFEM.spd_Cholesky</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">spd_Cholesky(o::Array)
spd_Cholesky(o::PyObject)</code></pre><p>Creates a SPD matrix from 6 scalars. </p><div>\[A = LL&#39;\]</div><p>where</p><div>\[L = \begin{bmatrix}
o_1 &amp; &amp;  \\
o_2 &amp; o_4 &amp; \\
o_3 &amp; o_5 &amp; o_6 
\end{bmatrix}\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/utils/matrix.jl#L85-L102">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.spd_H-Tuple{PyCall.PyObject,Array{Float64,2}}" href="#NNFEM.spd_H-Tuple{PyCall.PyObject,Array{Float64,2}}"><code>NNFEM.spd_H</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">spd_H(o::PyObject, H0::Array{Float64,2})
spd_H(o::Array, H0::Array)</code></pre><p>Creates a SPD matrix from 3 scalars</p><div>\[H = H_0 - \frac{H_0nn&#39;H_0}{1+n&#39;H_0n}\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/utils/matrix.jl#L57-L66">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.spd_zero_to_H-Tuple{PyCall.PyObject,Array{Float64,2}}" href="#NNFEM.spd_zero_to_H-Tuple{PyCall.PyObject,Array{Float64,2}}"><code>NNFEM.spd_zero_to_H</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">spd_zero_to_H(o::Array)
spd_zero_to_H(o::Array, H0inv::Array{Float64,2})</code></pre><p>Creates a SPD matrix from 4 scalars. </p><div>\[A = (H_0^{-1} +LL&#39;)^{-1}\]</div><p>where</p><div>\[L =  \begin{bmatrix}
o_1 &amp; &amp; \\
o_2 &amp; o_3 &amp; \\
 &amp;  &amp; o_4
\end{bmatrix}\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/utils/matrix.jl#L157-L175">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.sym_H-Tuple{PyCall.PyObject}" href="#NNFEM.sym_H-Tuple{PyCall.PyObject}"><code>NNFEM.sym_H</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">sym_H(y::PyObject)
sym_H(o::Array)</code></pre><p>Creates a symmetric matrix from 6 parameters</p><div>\[H = \begin{bmatrix}
y_1 &amp; y_2 &amp; y_3\\ 
y_2 &amp; y_4 &amp; y_5 \\ 
y_3 &amp; y_5 &amp; y_6
\end{bmatrix}\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/utils/matrix.jl#L4-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.gradtest-Tuple{Function,Array{Float64,N} where N}" href="#NNFEM.gradtest-Tuple{Function,Array{Float64,N} where N}"><code>NNFEM.gradtest</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">gradtest(f::Function, x0::Array{Float64}; scale::Float64 = 1.0)</code></pre><p>Testing the gradients of a vector function <code>f</code>.  Here <code>x0</code> is <span>$n$</span>-dimensional vector, <code>f</code> takes an <span>$n$</span>-dimensional vector as inputs, and outputs a <span>$m$</span> dimensional vector. The function tests the second order convergence of <code>f</code></p><div>\[\|f(x_0+\gamma c) - f(x_0) - \gamma \nabla f(x_0) c\|_2 = \mathcal{O}(\gamma^2)\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/271169750b6971c635926dc74451efb55ec7dfaa/src/utils/Testsuit.jl#L3-L12">source</a></section></article><h2 id="Internals-1"><a class="docs-heading-anchor" href="#Internals-1">Internals</a><a class="docs-heading-anchor-permalink" href="#Internals-1" title="Permalink"></a></h2><pre><code class="language-"></code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ex_simulation/">« Simulaton Code Structure</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 10 April 2020 00:43">Friday 10 April 2020</span>. Using Julia version 1.4.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
