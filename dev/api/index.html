<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · NNFEM</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">NNFEM</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Getting Started</a></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#Elements-1"><span>Elements</span></a></li><li><a class="tocitem" href="#Materials-1"><span>Materials</span></a></li><li><a class="tocitem" href="#Assembly-1"><span>Assembly</span></a></li><li><a class="tocitem" href="#Solvers-1"><span>Solvers</span></a></li><li><a class="tocitem" href="#Utilities-1"><span>Utilities</span></a></li></ul></li><li><a class="tocitem" href="../method/">Problem and Methodology</a></li><li><a class="tocitem" href="../plasticity/">Plasticity</a></li><li><a class="tocitem" href="../instructions/">Instructions for Running Benchmarks</a></li><li><a class="tocitem" href>API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/kailaix/NNFEM.jl/blob/master/docs/src/api.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference-1"><a class="docs-heading-anchor" href="#API-Reference-1">API Reference</a><a class="docs-heading-anchor-permalink" href="#API-Reference-1" title="Permalink"></a></h1><h2 id="Elements-1"><a class="docs-heading-anchor" href="#Elements-1">Elements</a><a class="docs-heading-anchor-permalink" href="#Elements-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NNFEM.FiniteStrainContinuum" href="#NNFEM.FiniteStrainContinuum"><code>NNFEM.FiniteStrainContinuum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">FiniteStrainContinuum</code></pre><p>Implements the finite strain element. </p><ul><li><code>eledim</code>: spatial dimension of the element (default = 2).</li><li><code>mat</code>: constitutive law, a length <code>#elem</code> vector of materials such as <a href="@ref"><code>PlaneStress</code></a></li><li><code>elnodes</code>: the node indices in this finite element, an integer array </li><li><code>props</code>: property dictionary </li><li><code>coords</code>: coordinates of the vertices of the element</li><li><code>dhdx</code>, <code>weights</code>, <code>hs</code>: data for integral </li><li><code>stress</code>: stress at each quadrature points</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/elements/FiniteStrainContinuum.jl#L4-L16">source</a></section></article><h2 id="Materials-1"><a class="docs-heading-anchor" href="#Materials-1">Materials</a><a class="docs-heading-anchor-permalink" href="#Materials-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NNFEM.PlaneStrain" href="#NNFEM.PlaneStrain"><code>NNFEM.PlaneStrain</code></a> — <span class="docstring-category">Type</span></header><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/materials/PlaneStrain.jl#L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.PlaneStressIncompressibleRivlinSaunders" href="#NNFEM.PlaneStressIncompressibleRivlinSaunders"><code>NNFEM.PlaneStressIncompressibleRivlinSaunders</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Pascon, João Paulo.  &quot;Large deformation analysis of plane-stress hyperelastic problems via triangular membrane finite elements.&quot;  International Journal of Advanced Structural Engineering (2019): 1-20.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/materials/PlaneStressIncompressibleRivlinSaunders.jl#L3-L7">source</a></section></article><h2 id="Assembly-1"><a class="docs-heading-anchor" href="#Assembly-1">Assembly</a><a class="docs-heading-anchor-permalink" href="#Assembly-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NNFEM.assembleMassMatrix!-Tuple{GlobalData,Domain}" href="#NNFEM.assembleMassMatrix!-Tuple{GlobalData,Domain}"><code>NNFEM.assembleMassMatrix!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">compute constant mass matrix
due to the time-dependent Dirichlet boundary condition
mass matrix = M,    MID
              MID&#39;  MDD
save M and MID and lump(M)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/fem/assembly.jl#L204-L210">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.tfAssembleInternalForce-Tuple{Domain,Function,PyCall.PyObject,PyCall.PyObject,PyCall.PyObject,PyCall.PyObject}" href="#NNFEM.tfAssembleInternalForce-Tuple{Domain,Function,PyCall.PyObject,PyCall.PyObject,PyCall.PyObject,PyCall.PyObject}"><code>NNFEM.tfAssembleInternalForce</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">domain   : finite element domain, for data structure
nn: Neural network constitutive law, with 
E_all    : all strains for the current time-step, with size (neles*nGauss, nstrains)
DE_all   : all strains for the last time-step, with size (neles*nGauss, nstrains)
w∂E∂u_all: multiplication of the Gaussian weight and ∂E∂u^T for current time-step, 
           with size (neles*nGauss, ndofs_per_element, nstrains)
σ0_all   : all stresses for the last time-step, with size (neles*nGauss, nstrains)

compute local internal force f_int and then assemble to F_int</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/fem/assembly.jl#L34-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.Domain-Tuple{Array{Float64,N} where N,Array,Int64,Array{Int64,N} where N,Array{Float64,N} where N,Array{Int64,N} where N,Array{Float64,N} where N}" href="#NNFEM.Domain-Tuple{Array{Float64,N} where N,Array,Int64,Array{Int64,N} where N,Array{Float64,N} where N,Array{Int64,N} where N,Array{Float64,N} where N}"><code>NNFEM.Domain</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Creating a finite element domain
nodes: n by 2 float 64, node coordinates
elements: element list
ndims: 2
EBC: n by 2 Int64, nodal Dirichlet boundary condition, -1 time-independent, -2 time-dependent
g: n by 2 Float64, values for nodal time-independent Dirichlet boundary condition
FBC: n by 2 Int64, nodal force boundary condition, -1 time-independent, -2 time-dependent
f: n by 2 Float64, values for nodal force time independent force boundary condition</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/fem/fem.jl#L82-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.convertState-Tuple{Domain,Array{Float64,N} where N,String}" href="#NNFEM.convertState-Tuple{Domain,Array{Float64,N} where N,String}"><code>NNFEM.convertState</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">:param self: Domain
:param state : 1D array to convert
:param compress_or_expand  : &quot;Compress&quot; or &quot;Expand&quot; 

&quot;Compress&quot;, the state has all freedoms on all nodes, remove these freedoms on EBC
&quot;Expand&quot;,   the state has only active freedoms on active nodes (active means not prescribed), 
            set these freedoms on EBC to 0

:return:</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/fem/fem.jl#L283-L293">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.setGeometryPoints!-Tuple{Domain,Int64,Array{Int64,N} where N}" href="#NNFEM.setGeometryPoints!-Tuple{Domain,Int64,Array{Int64,N} where N}"><code>NNFEM.setGeometryPoints!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">:param npoints, the mesh contains npoints
:node_to_point, a map from node to point, -1 means the node is not the geometry point
:return:</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/fem/fem.jl#L125-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.setNeumannBoundary!-Tuple{Domain,Array{Int64,N} where N,Array{Float64,N} where N}" href="#NNFEM.setNeumannBoundary!-Tuple{Domain,Array{Int64,N} where N,Array{Float64,N} where N}"><code>NNFEM.setNeumannBoundary!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">:param FBC[n, d] is the boundary condition of node n&#39;s dth freedom,
    -1 means fixed force load boundary condition
    -2 means time dependent force load boundary condition
:param f[n, d] is the fixed force load value
:return:</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/fem/fem.jl#L230-L237">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.updateDomainStateBoundary!-Tuple{Domain,GlobalData}" href="#NNFEM.updateDomainStateBoundary!-Tuple{Domain,GlobalData}"><code>NNFEM.updateDomainStateBoundary!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Update domain time dependent boundary information.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/fem/fem.jl#L310-L312">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.updateStates!-Tuple{Domain,GlobalData}" href="#NNFEM.updateStates!-Tuple{Domain,GlobalData}"><code>NNFEM.updateStates!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">:param disp: neqs array
:param vel : neqs array

update Dstate in Domain, update state in Domain
:return:</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/fem/fem.jl#L256-L262">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.assembleSparseMatrixPattern!-Tuple{Domain}" href="#NNFEM.assembleSparseMatrixPattern!-Tuple{Domain}"><code>NNFEM.assembleSparseMatrixPattern!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">compute constant stiff matrix pattern</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/fem/fem.jl#L387-L390">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.getDofs-Tuple{Domain,Int64}" href="#NNFEM.getDofs-Tuple{Domain,Int64}"><code>NNFEM.getDofs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">:param el_nodes: 1d array
:return: the corresponding dofs ids, u0,u1, .., v0, v1, ..</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/fem/fem.jl#L365-L368">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.getExternalForce!-Tuple{Domain,GlobalData,Array{Float64,N} where N}" href="#NNFEM.getExternalForce!-Tuple{Domain,GlobalData,Array{Float64,N} where N}"><code>NNFEM.getExternalForce!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">the external force include the Dirichlet boundary condition effect</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/fem/fem.jl#L346-L348">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.setDirichletBoundary!-Tuple{Domain,Array{Int64,N} where N,Array{Float64,N} where N}" href="#NNFEM.setDirichletBoundary!-Tuple{Domain,Array{Int64,N} where N,Array{Float64,N} where N}"><code>NNFEM.setDirichletBoundary!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">:param EBC[n, d] is the boundary condition of of node n&#39;s dth freedom,
    -1 means fixed Dirichlet boundary nodes
    -2 means time dependent Dirichlet boundary nodes
:param g[n, d] is the fixed Dirichlet boundary value

:param nbc:
:return:</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/fem/fem.jl#L174-L183">source</a></section></article><h2 id="Solvers-1"><a class="docs-heading-anchor" href="#Solvers-1">Solvers</a><a class="docs-heading-anchor-permalink" href="#Solvers-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NNFEM.DynamicMatLawLoss-Tuple{Domain,Array{Float64,N} where N,Array{Float64,N} where N,Array{Float64,N} where N,Function}" href="#NNFEM.DynamicMatLawLoss-Tuple{Domain,Array{Float64,N} where N,Array{Float64,N} where N,Array{Float64,N} where N,Function}"><code>NNFEM.DynamicMatLawLoss</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">domain   : finite element domain, for data structure
E_all    : all strains for the whole simulation, with size (NT+1, neles*nGauss, nstrains)
w∂E∂u_all: multiplication of the Gaussian weight and ∂E∂u^T for the whole simulation, 
           with size (NT+1, neles*nGauss, ndofs_per_element, nstrains)
F_tot : approximated internal force for the whole simulation, with size(NT, ndofs), 
        from time n=1 to time n=NT

form the loss function, based on dynamic equilibrium 
    (Mddu + fint(NN, E, DE) + MIDddu_bc = fext

loss = ∑ ||fint(NN, E, DE) - (fext - MIDddu_bc - Mddu)||^2</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/solvers/NNSolver.jl#L4-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.DynamicMatLawLoss-Union{Tuple{S}, Tuple{T}, Tuple{Domain,GlobalData,Array{T,N} where N,Array{S,N} where N,Function,Float64}} where S where T" href="#NNFEM.DynamicMatLawLoss-Union{Tuple{S}, Tuple{T}, Tuple{Domain,GlobalData,Array{T,N} where N,Array{S,N} where N,Function,Float64}} where S where T"><code>NNFEM.DynamicMatLawLoss</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">domain   : finite element domain
globdat  : finite element data structure
state_history : displace history of all time steps and all nodes, 
                a list of NT+1  ndof-displacement vectors, including time 0
                hcat(state_history...) gives a matrix of size(ndof-displacement, NT+1)
fext_history  : external force load of all time steps and all nodes, 
                a list of NT+1 ndof-external-force vectors, including time 0
                hcat(fext_history...) gives a matrix of size(ndof-external-force, NT+1)
nn: Neural network
Δt: time step size

compute loss function from state and external force history</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/solvers/NNSolver.jl#L158-L171">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.LSfittingStress-Tuple{Domain,GlobalData,Array{Float64,N} where N,Array{Float64,N} where N,Float64,String}" href="#NNFEM.LSfittingStress-Tuple{Domain,GlobalData,Array{Float64,N} where N,Array{Float64,N} where N,Float64,String}"><code>NNFEM.LSfittingStress</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">LSfittingStress(domain::Domain, globdat::GlobalData, state_history::Array{Float64}, F_ext::Array{Float64},Δt::Float64, method::String)</code></pre><p>For quadratic element, nx, ny, ... elements in each direction The number of equations are neqs ≈ 2<em>(2nx + 1)</em>(2ny + 1) Plan 1: Assume the stress in each element is constant, the number of unknows are 3<em>nx</em>ny Plan 2: Assume the stress in each element is linear, the number of unknows are 3<em>(nx+1)</em>(ny+1) on each nodes</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/solvers/NNSolver.jl#L508-L515">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.LSfittingStressHelper-Tuple{Any,Array{Float64,N} where N,String}" href="#NNFEM.LSfittingStressHelper-Tuple{Any,Array{Float64,N} where N,String}"><code>NNFEM.LSfittingStressHelper</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Compute the stiff and dfint<em>dstress, based on the state in domain and dstrain</em>dstate</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/solvers/NNSolver.jl#L367-L370">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.preprocessing-Tuple{Domain,GlobalData,Array{Float64,N} where N,Float64,Int64}" href="#NNFEM.preprocessing-Tuple{Domain,GlobalData,Array{Float64,N} where N,Float64,Int64}"><code>NNFEM.preprocessing</code></a> — <span class="docstring-category">Method</span></header><section><div><p>preprocessing(domain::Domain, globdat::GlobalData, F_ext::Array{Float64},Δt::Float64, n::Int64)</p><p>Same as <code>preprocessing</code>, except that only the first <code>n</code> steps are considered</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/solvers/NNSolver.jl#L277-L281">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.preprocessing-Tuple{Domain,GlobalData,Array{Float64,N} where N,Float64}" href="#NNFEM.preprocessing-Tuple{Domain,GlobalData,Array{Float64,N} where N,Float64}"><code>NNFEM.preprocessing</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">compute F_tot ≈ F_int , ane E_all</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/solvers/NNSolver.jl#L199-L201">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.AdaptiveSolver-NTuple{6,Any}" href="#NNFEM.AdaptiveSolver-NTuple{6,Any}"><code>NNFEM.AdaptiveSolver</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Adaptive Solver, adjust the time step, if this step fails, redo the step with half of
the time step size

return globdat, domain</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/solvers/Solvers.jl#L283-L288">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.ExplicitSolver-Tuple{Any,Any,Any}" href="#NNFEM.ExplicitSolver-Tuple{Any,Any,Any}"><code>NNFEM.ExplicitSolver</code></a> — <span class="docstring-category">Method</span></header><section><div><p>ExplicitSolver(Δt, globdat, domain)</p><p>Central Difference Explicit solver for <code>Ma + fint = fext</code>, <code>a</code>, <code>v</code>, <code>u</code> are acceleration, velocity and displacement</p><div>\[\begin{align}
u_{n+1} =&amp; u_n + dtv_n + dt^2/2 a_n \\
v_{n+1} =&amp; v_n + dt/2(a_n + a_{n+1}) \\
M a_{n+1} + C v_{n+1} + R(u_{n+1}) =&amp; P_{n+1} \\
(M + dt/2 C) a_{n+1} =&amp; P_{n+1} - R(u_{n+1}) - C(v_n + dt/2 a_{n}) \\
\end{align}\]</div><pre><code class="language-none">Alternative, todo:
M a_n + C v_n + R(u_n) = P_n
M(u_{n+1} - 2u_n + u_{n-1}) + dt/2*C(u_{n+1} - u_{n-1}) + dt^2 R(u_n) = dt^2 P_n
(M + dt/2 C) u_{n+1} = dt^2(P_n - R(u_n) + dt/2 C u_{n-1} + M(2u_n - u_{n-1})

For the first step
u_{-1} = u_0 - dt*v_0 + dt^2/2 a_0
a_0 = M^{-1}(-Cv_0 - R(u_0) + P_0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/solvers/Solvers.jl#L3-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.NewmarkSolver" href="#NNFEM.NewmarkSolver"><code>NNFEM.NewmarkSolver</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">NewmarkSolver(Δt, globdat, domain, αm = -1.0, αf = 0.0, ε = 1e-8, ε0 = 1e-8, maxiterstep=100, η = 1.0, failsafe = false)</code></pre><p>Implicit solver for <span>$Ma + C v + R(u) = P$</span> <span>$a$</span>, <span>$v$</span>, <span>$u$</span> are acceleration, velocity and displacement respectively.</p><div>\[u_{n+1} = u_n + dtv_n + dt^2/2 ((1 - 2\beta)a_n + 2\beta a_{n+1})
v_{n+1} = v_n + dt((1 - gamma)a_n + gamma a_{n+1})\]</div><div>\[M a_{n+0.5} + f_{\mathrm{int}}(u_{n+0.f}) = fext_{n+0.5}\]</div><pre><code class="language-none">αm = (2\rho_oo - 1)/(\rho_oo + 1)
αf = \rho_oo/(\rho_oo + 1)

β2 = 0.5*(1 - αm + αf)^2
γ = 0.5 - αm + αf

absolution error ε = 1e-8, 
relative error ε0 = 1e-8  

return true or false indicating converging or not</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/solvers/Solvers.jl#L66-L90">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.StaticSolver" href="#NNFEM.StaticSolver"><code>NNFEM.StaticSolver</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">StaticSolver(globdat, domain, loaditerstep = 10, ε = 1.e-8, maxiterstep=100)</code></pre><p>Implicit solver for </p><div>\[f_{\mathrm{int}}(u) = f_{\mathrm{ext}}\]</div><p><span>$u$</span> is the displacement. We apply the Newton-Raphson algorithm</p><div>\[u_{n+1} = u_n -  \nabla f_{\mathrm{int}}(u^n)^{-1} *( f_{\mathrm{int}}(u^n) -  f_{\mathrm{ext}})\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/solvers/Solvers.jl#L233-L244">source</a></section></article><h2 id="Utilities-1"><a class="docs-heading-anchor" href="#Utilities-1">Utilities</a><a class="docs-heading-anchor-permalink" href="#Utilities-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NNFEM.orthotropic_H-Tuple{PyCall.PyObject}" href="#NNFEM.orthotropic_H-Tuple{PyCall.PyObject}"><code>NNFEM.orthotropic_H</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">orthotropic_H(y::PyObject)
orthotropic_H(o::Array)</code></pre><p>Creates a symmetric matrix from 4 parameters</p><div>\[H = \begin{bmatrix}
y_1 &amp; y_2 &amp; 0\\ 
y_2 &amp; y_3 &amp; 0 \\ 
0 &amp; 0 &amp; y_4
\end{bmatrix}\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/utils/matrix.jl#L29-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.spd_Chol_Orth-Tuple{Array}" href="#NNFEM.spd_Chol_Orth-Tuple{Array}"><code>NNFEM.spd_Chol_Orth</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">spd_Chol_Orth(o::Array)
spd_Chol_Orth(o::PyObject)</code></pre><p>Creates a SPD matrix from 4 scalars. </p><div>\[A = LL&#39;\]</div><p>where</p><div>\[L = \begin{bmatrix}
o_1 &amp; &amp; \\
o_2 &amp; o_3 &amp; \\
 &amp;  &amp; o_4 
\end{bmatrix}\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/utils/matrix.jl#L122-L139">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.spd_Cholesky-Tuple{Array}" href="#NNFEM.spd_Cholesky-Tuple{Array}"><code>NNFEM.spd_Cholesky</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">spd_Cholesky(o::Array)
spd_Cholesky(o::PyObject)</code></pre><p>Creates a SPD matrix from 6 scalars. </p><div>\[A = LL&#39;\]</div><p>where</p><div>\[L = \begin{bmatrix}
o_1 &amp; &amp;  \\
o_2 &amp; o_4 &amp; \\
o_3 &amp; o_5 &amp; o_6 
\end{bmatrix}\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/utils/matrix.jl#L85-L102">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.spd_H-Tuple{PyCall.PyObject,Array{Float64,2}}" href="#NNFEM.spd_H-Tuple{PyCall.PyObject,Array{Float64,2}}"><code>NNFEM.spd_H</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">spd_H(o::PyObject, H0::Array{Float64,2})
spd_H(o::Array, H0::Array)</code></pre><p>Creates a SPD matrix from 3 scalars</p><div>\[H = H_0 - \frac{H_0nn&#39;H_0}{1+n&#39;H_0n}\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/utils/matrix.jl#L57-L66">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.spd_zero_to_H-Tuple{PyCall.PyObject,Array{Float64,2}}" href="#NNFEM.spd_zero_to_H-Tuple{PyCall.PyObject,Array{Float64,2}}"><code>NNFEM.spd_zero_to_H</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">spd_zero_to_H(o::Array)
spd_zero_to_H(o::Array, H0inv::Array{Float64,2})</code></pre><p>Creates a SPD matrix from 4 scalars. </p><div>\[A = (H_0^{-1} +LL&#39;)^{-1}\]</div><p>where</p><div>\[L =  \begin{bmatrix}
o_1 &amp; &amp; \\
o_2 &amp; o_3 &amp; \\
 &amp;  &amp; o_4
\end{bmatrix}\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/utils/matrix.jl#L157-L175">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.sym_H-Tuple{PyCall.PyObject}" href="#NNFEM.sym_H-Tuple{PyCall.PyObject}"><code>NNFEM.sym_H</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">sym_H(y::PyObject)
sym_H(o::Array)</code></pre><p>Creates a symmetric matrix from 6 parameters</p><div>\[H = \begin{bmatrix}
y_1 &amp; y_2 &amp; y_3\\ 
y_2 &amp; y_4 &amp; y_5 \\ 
y_3 &amp; y_5 &amp; y_6
\end{bmatrix}\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/utils/matrix.jl#L4-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NNFEM.gradtest-Tuple{Function,Array{Float64,N} where N}" href="#NNFEM.gradtest-Tuple{Function,Array{Float64,N} where N}"><code>NNFEM.gradtest</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">gradtest(f::Function, x0::Array{Float64}; scale::Float64 = 1.0)</code></pre><p>Testing the gradients of a vector function <code>f</code>.  Here <code>x0</code> is <span>$n$</span>-dimensional vector, <code>f</code> takes an <span>$n$</span>-dimensional vector as inputs, and outputs a <span>$m$</span> dimensional vector. The function tests the second order convergence of <code>f</code></p><div>\[\|f(x_0+\gamma c) - f(x_0) - \gamma \nabla f(x_0) c\|_2 = \mathcal{O}(\gamma^2)\]</div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kailaix/NNFEM.jl/blob/a1ae23593311de204cbcf3fd8be6acd948c831ae/src/utils/Testsuit.jl#L3-L12">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Getting Started</a><a class="docs-footer-nextpage" href="../method/">Problem and Methodology »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 17 February 2020 17:53">Monday 17 February 2020</span>. Using Julia version 1.2.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
